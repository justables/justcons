<div class="m-4">
  <form class="panel flex flex-col gap-4" [formGroup]="form">
    <h3 class="font-bold text-lg">New Vector Graphic</h3>

    <div class="form-control">
      <label class="label">
        <span class="label-text">SVG file</span>
      </label>
      <input
        type="file"
        class="file-input"
        [formControl]="svgFileFormControl"
        (change)="onFileChanged($event)"
      />
    </div>

    <div class="m-2">
      <img
        class="w-[8rem] h-[8rem]"
        id="base64image"
        [src]="'data:image/jpeg;base64,' + vectorGraphic.image"
      />
    </div>

    <div class="flex flex-col">
      <div class="form-control">
        <label class="label"><span class="label-text"> Icon name </span></label>
        <input
          class="input"
          placeholder="Icon name"
          [formControl]="iconNameFormControl"
        />
      </div>
    </div>
    <div class="flex flex-col">
      <div class="form-control">
        <label class="label flex gap-2 w-fit cursor-pointer">
          <input
            type="checkbox"
            checked="checked"
            class="checkbox"
            [formControl]="foregroundFormControl"
          />
          <span class="label-text">Foreground</span>
        </label>
        <label class="label flex gap-2 w-fit cursor-pointer">
          <input
            type="checkbox"
            class="checkbox"
            [formControl]="backgroundFormControl"
          />
          <span class="label-text">Background</span>
        </label>
      </div>
    </div>
    <div class="flex flex-col">
      <div class="form-control">
        <label class="label"
          ><span class="label-text">Icon filled type</span></label
        >
        <select class="select" [formControl]="iconFilledTypeFormControl">
          <option value="Filled">Filled</option>
          <option value="Outlined">Outlined</option>
        </select>
      </div>
    </div>
    <div class="flex flex-col">
      <div class="form-control">
        <label class="label"
          ><span class="label-text"> Children transformation </span></label
        >
        <label class="input-group flex">
          <input
            type="number"
            placeholder="x translation"
            class="input w-full"
            [formControl]="xTranslationFormControl"
          />
          <input
            type="number"
            placeholder="y translation"
            class="input w-full"
            [formControl]="yTranslationFormControl"
          />
          <input
            type="number"
            placeholder="scale"
            class="input w-full"
            [formControl]="scaleFormControl"
          />
          <input
            type="number"
            placeholder="rotation"
            class="input w-full"
            [formControl]="rotationFormControl"
          />
        </label>
      </div>
    </div>

    <div class="flex gap-2 ml-auto">
      <button class="btn btn-ghost" (click)="onDiscard()">Discard</button>
      <ng-container *ngIf="loadingState$ | async as loadingState">
        <button
          [ngClass]="[
            'btn',
            'btn-primary',
            loadingState === 'loading' ? 'loading' : ''
          ]"
          (click)="onSave()"
          [disabled]="!form.valid"
        >
          Save
        </button>
      </ng-container>
    </div>
  </form>
</div>
